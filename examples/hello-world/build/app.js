(function(process) { eval(process.drives["/lib"]["portable.js"])(process); })({
    "expose": true,
    "platform": "browser",
    "env": {
        "PWD": "/app"
    },
    "argv": [
        "/app/hello.js"
    ],
    "drives": {
        "/lib": {
            "events.js": "function EventEmitter(){EventEmitter.init.call(this)}var util=require(\"util\");module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.init=function(){this._events||(this._events={})},EventEmitter.prototype.emit=function(e){var t,i,n,s,r,v;if(this._events||(this._events={}),\"error\"===e&&!this._events.error)throw t=arguments[1],t instanceof Error?t:Error('Uncaught, unspecified \"error\" event.');if(i=this._events[e],util.isUndefined(i))return!1;if(util.isFunction(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:for(n=arguments.length,s=new Array(n-1),r=1;n>r;r++)s[r-1]=arguments[r];i.apply(this,s)}else if(util.isObject(i)){for(n=arguments.length,s=new Array(n-1),r=1;n>r;r++)s[r-1]=arguments[r];for(v=i.slice(),n=v.length,r=0;n>r;r++)v[r].apply(this,s)}return!0},EventEmitter.prototype.addListener=function(e,t){if(!util.isFunction(t))throw TypeError(\"listener must be a function\");return this._events||(this._events={}),this._events.newListener&&this.emit(\"newListener\",e,util.isFunction(t.listener)?t.listener:t),this._events[e]?util.isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}if(!util.isFunction(t))throw TypeError(\"listener must be a function\");var n=!1;return i.listener=t,this.on(e,i),this},EventEmitter.prototype.removeListener=function(e,t){var i,n,s,r;if(!util.isFunction(t))throw TypeError(\"listener must be a function\");if(!this._events||!this._events[e])return this;if(i=this._events[e],s=i.length,n=-1,i===t||util.isFunction(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit(\"removeListener\",e,t);else if(util.isObject(i)){for(r=s;r-->0;)if(i[r]===t||i[r].listener&&i[r].listener===t){n=r;break}if(0>n)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(n,1),this._events.removeListener&&this.emit(\"removeListener\",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)\"removeListener\"!==t&&this.removeAllListeners(t);return this.removeAllListeners(\"removeListener\"),this._events={},this}if(i=this._events[e],util.isFunction(i))this.removeListener(e,i);else if(Array.isArray(i))for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?util.isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.listenerCount=function(e,t){var i;return i=e._events&&e._events[t]?util.isFunction(e._events[t])?1:e._events[t].length:0};",
            "fs.js": "var path=require(\"path\"),util=require(\"util\"),DRIVE={},fs=exports;fs.DRIVE=DRIVE,fs.Stats=function(){util.extend(this,{_isDir:!1,_isFile:!1})};var ffalse=function(){return!1};util.extend(fs.Stats.prototype,{isDirectory:function(){return this._isDir},isFile:function(){return this._isFile}}),fs.writeFileSync=function(t,e){var n=path.resolve(t);DRIVE[n]=e},fs.writeFile=function(t,e,n){process.nextTick(function(){fs.writeFileSync(t,e),n&&n()})},fs.readFileSync=function(t){var e=path.resolve(t),n=DRIVE[e];if(\"undefined\"==typeof n)throw Error(\"File not found.\");return n},fs.existsSync=function(t){var e=path.resolve(t);return\"undefined\"!=typeof DRIVE[e]},fs.statSync=function(t){var e=path.resolve(t),n=DRIVE[e];if(\"undefined\"==typeof n)throw Error(\"File not found.\");var i=new fs.Stats;return null===n?i._isDir=!0:i._isFile=!0,i},fs.realpathSync=function(t){return path.resolve(t)},fs.mount=function(t,e,n){},fs.mountSync=function(t,e){t[t.length-1]!=path.sep&&(t+=path.sep);for(var n in e){var i=\"\",r=path.resolve(t+n),s=r.split(path.sep);if(s.length>2)for(var f=1;f<s.length-1;f++)i+=path.sep+s[f],DRIVE[i]=null;DRIVE[r]=e[n]}};",
            "module.js": "function hasOwnProperty(e,r){return Object.prototype.hasOwnProperty.call(e,r)}function Module(e,r){this.id=e,this.exports={},this.parent=r,r&&r.children&&r.children.push(this),this.filename=null,this.loaded=!1,this.children=[]}function statPath(e){try{return fs.statSync(e)}catch(r){}return!1}function readPackage(e){if(hasOwnProperty(packageMainCache,e))return packageMainCache[e];try{var r=path.resolve(e,\"package.json\"),t=fs.readFileSync(r,\"utf8\")}catch(n){return!1}try{var o=packageMainCache[e]=JSON.parse(t).main}catch(n){throw n.path=r,n.message=\"Error parsing \"+r+\": \"+n.message,n}return o}function tryPackage(e,r){var t=readPackage(e);if(!t)return!1;var n=path.resolve(e,t);return tryFile(n)||tryExtensions(n,r)||tryExtensions(path.resolve(n,\"index\"),r)}function tryFile(e){var r=statPath(e);return r&&!r.isDirectory()?fs.realpathSync(e):!1}function tryExtensions(e,r){for(var t=0,n=r.length;n>t;t++){var o=tryFile(e+r[t]);if(o)return o}return!1}function stripBOM(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}var NM=require(\"nm\"),util=require(\"util\"),fs=require(\"fs\"),path=require(\"path\"),assert=function(e,r){if(!e)throw Error(\"Assert: \"+r)},runInThisContext=eval,node_modules_folder=\"node_modules\";module.exports=Module,Module._cache={},Module._pathCache={},Module._extensions={};var modulePaths=[];Module.globalPaths=[],Module.wrapper=NM.wrapper,Module.wrap=NM.wrap;var packageMainCache={};Module._findPath=function(e,r){var t=Object.keys(Module._extensions);\"/\"===e.charAt(0)&&(r=[\"\"]);var n=\"/\"===e.slice(-1),o=JSON.stringify({request:e,paths:r});if(Module._pathCache[o])return Module._pathCache[o];for(var a=0,s=r.length;s>a;a++){var i,u=path.resolve(r[a],e);if(n||(i=tryFile(u),i||n||(i=tryExtensions(u,t))),i||(i=tryPackage(u,t)),i||(i=tryExtensions(path.resolve(u,\"index\"),t)),i)return Module._pathCache[o]=i,i}return!1},Module._nodeModulePaths=function(e){e=path.resolve(e);for(var r=/\\//,t=[],n=e.split(r),o=n.length-1;o>=0;o--)if(n[o]!==node_modules_folder){var a=n.slice(0,o+1).concat(node_modules_folder).join(path.sep);t.push(a)}return t},Module._resolveLookupPaths=function(e,r){if(NM.exists(e))return[e,[]];var t=e.substring(0,2);if(\"./\"!==t&&\"..\"!==t){var n=modulePaths;return r&&(r.paths||(r.paths=[]),n=r.paths.concat(n)),[e,n]}if(!r||!r.id||!r.filename){var o=[\".\"].concat(modulePaths);return o=Module._nodeModulePaths(\".\").concat(o),[e,o]}var a=/^index\\.\\w+?$/.test(path.basename(r.filename)),s=a?r.id:path.dirname(r.id),i=path.resolve(s,e);return\".\"===s&&-1===i.indexOf(\"/\")&&(i=\"./\"+i),[i,[path.dirname(r.filename)]]},Module._load=function(e,r,t){var n=Module._resolveFilename(e,r),o=Module._cache[n];if(o)return o.exports;if(NM.exists(n))return NM.require(n);var a=new Module(n,r);t&&(process.mainModule=a,a.id=\".\"),Module._cache[n]=a;var s=!0;try{a.load(n),s=!1}finally{s&&delete Module._cache[n]}return a.exports},Module._resolveFilename=function(e,r){if(NM.exists(e))return e;var t=Module._resolveLookupPaths(e,r),n=(t[0],t[1]),o=Module._findPath(e,n);if(!o){var a=new Error(\"Cannot find module '\"+e+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}return o},Module.prototype.load=function(e){assert(!this.loaded),this.filename=e,this.paths=Module._nodeModulePaths(path.dirname(e));var r=path.extname(e)||\".js\";Module._extensions[r]||(r=\".js\"),Module._extensions[r](this,e),this.loaded=!0},Module.prototype.require=function(e){return assert(e,\"missing path\"),assert(util.isString(e),\"path must be a string\"),Module._load(e,this)},Module.prototype._compile=function(e,r){function t(e){return n.require(e)}var n=this;e=e.replace(/^\\#\\!.*/,\"\"),t.resolve=function(e){return Module._resolveFilename(e,n)},Object.defineProperty(t,\"paths\",{get:function(){throw new Error(\"require.paths is removed. Use node_modules folders, or the NODE_PATH environment variable instead.\")}}),t.main=process.mainModule,t.extensions=Module._extensions,t.registerExtension=function(){throw new Error(\"require.registerExtension() removed. Use require.extensions instead.\")},t.cache=Module._cache;var o=path.dirname(r),a=Module.wrap(e),s=runInThisContext(a),i=[n.exports,t,n,r,o,process];return s.apply(n.exports,i)},Module._extensions[\".js\"]=function(e,r){var t=fs.readFileSync(r,\"utf8\");e._compile(stripBOM(t),r)},Module._extensions[\".json\"]=function(e,r){var t=fs.readFileSync(r,\"utf8\");try{e.exports=JSON.parse(stripBOM(t))}catch(n){throw n.message=r+\": \"+n.message,n}},Module.runMain=function(){Module._load(process.argv[0],null,!0)},Module._initPaths=function(){var e=[path.resolve(\"..\",\"..\",\"lib\",\"portable\")];modulePaths=e,Module.globalPaths=modulePaths.slice(0)},Module._initPaths(),Module.Module=Module;",
            "path.js": "function normalizeArray(r,t){for(var e=[],n=0;n<r.length;n++){var s=r[n];s&&\".\"!==s&&(\"..\"===s?e.length&&\"..\"!==e[e.length-1]?e.pop():t&&e.push(\"..\"):e.push(s))}return e}function trimArray(r){for(var t=r.length-1,e=0;t>=e&&!r[e];e++);for(var n=t;n>=0&&!r[n];n--);return 0===e&&n===t?r:e>n?[]:r.slice(e,n+1)}function posixSplitPath(r){return splitPathRe.exec(r).slice(1)}var splitPathRe=/^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;exports.resolve=function(){for(var r=\"\",t=!1,e=arguments.length-1;e>=-1&&!t;e--){var n=e>=0?arguments[e]:process.cwd();if(\"string\"!=typeof n)throw new TypeError(\"Arguments to path.resolve must be strings\");n&&(r=n+\"/\"+r,t=\"/\"===n[0])}return r=normalizeArray(r.split(\"/\"),!t).join(\"/\"),(t?\"/\":\"\")+r||\".\"},exports.dirname=function(r){var t=posixSplitPath(r),e=t[0],n=t[1];return e||n?(n&&(n=n.substr(0,n.length-1)),e+n):\".\"},exports.basename=function(r,t){var e=posixSplitPath(r)[2];return t&&e.substr(-1*t.length)===t&&(e=e.substr(0,e.length-t.length)),e},exports.extname=function(r){return posixSplitPath(r)[3]},exports.sep=\"/\",exports.delimiter=\":\";",
            "portable.js": "(function(process) {\nprocess.global = this.global = this;\nfunction startup(require) {\n    require('process');\n    var fs = require('fs');\n    for(var mp in process.drives) fs.mountSync(mp, process.drives[mp]);\n    var Module = require('module');\n    Module.runMain();\n}\nvar runInThisContext = eval;\nvar libVolume = '/lib';\nfunction NM(id) {\n    this.filename = id + '.js';\n    this.id = id;\n    this.exports = {};\n    this.loaded = false;\n}\nNM._cache = {};\nNM.require = function(id) {\n    if(id == 'nm') return NM;\n\n    var cached = NM.getCached(id);\n    if(cached) return cached.exports;\n\n    if(!NM.exists(id)) throw Error('Not found: \"' + id + '\"');\n    //if(!NM.exists(id)) throw new Error('No such native module ' + id);\n\n    var nm = new NM(id);\n    nm.cache();\n    nm.compile();\n    return nm.exports;\n};\nNM.getCached = function(id) {\n    return NM._cache[id];\n};\nNM.getSource = function(id) {\n    return process.drives[libVolume][id + '.js'];\n};\nNM.wrap = function(script) {\n    return NM.wrapper[0] + script + NM.wrapper[1];\n};\nNM.exists = function(id) {\n    return !!NM.getSource(id);\n};\nNM.wrapper = [\n    '(function (exports, require, module, __filename, __dirname, process) { ',\n    '\\n});'\n];\nNM.prototype.compile = function() {\n    var source = NM.getSource(this.id);\n    source = NM.wrap(source);\n    var fn = runInThisContext(source);\n    fn(this.exports, NM.require, this, this.filename, libVolume, process);\n    this.loaded = true;\n};\nNM.prototype.cache = function() {\n    NM._cache[this.id] = this;\n};\nstartup(NM.require);\n});",
            "process.js": "var util=require(\"util\"),EventEmitter=require(\"events\"),EEp=EventEmitter.prototype;for(var prop in EEp)\"function\"==typeof EEp[prop]&&(process[prop]=EEp[prop].bind(process));EventEmitter.init.call(process),util.extend(process,{pwd:process.env.PWD||\"/\",cwd:function(){return process.pwd},chdir:function(e){process.pwd=e},nextTick:function(e){setTimeout(e,0)}}),module.exports=process;",
            "util.js": "function isBoolean(t){return\"boolean\"==typeof t}function isNull(t){return null===t}function isNullOrUndefined(t){return null==t}function isNumber(t){return\"number\"==typeof t}function isString(t){return\"string\"==typeof t}function isSymbol(t){return\"symbol\"==typeof t}function isUndefined(t){return void 0===t}function isRegExp(t){return isObject(t)&&\"[object RegExp]\"===objectToString(t)}function isObject(t){return\"object\"==typeof t&&null!==t}function isDate(t){return isObject(t)&&\"[object Date]\"===objectToString(t)}function isError(t){return isObject(t)&&(\"[object Error]\"===objectToString(t)||t instanceof Error)}function isFunction(t){return\"function\"==typeof t}function isPrimitive(t){return null===t||\"boolean\"==typeof t||\"number\"==typeof t||\"string\"==typeof t||\"symbol\"==typeof t||\"undefined\"==typeof t}function isBuffer(t){return t&&\"object\"==typeof t&&\"function\"==typeof t.copy&&\"function\"==typeof t.fill&&\"function\"==typeof t.readUInt8}var isArray=exports.isArray=Array.isArray;exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=isBuffer,exports.inherits=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t},exports.extend=function t(e,r){e&&\"object\"==typeof e||(e={}),r&&\"object\"==typeof r||(r={});for(var n in r)e[n]=r[n];if(arguments.length>2){var i=[].slice.call(arguments,1);return i[0]=e,t.apply(this,i)}return e};"
        },
        "/app": {
            "hello.js": "\nvar mod = require('hello-world');\nmod.log();\n",
            "node_modules/hello-world/index.js": "\nexports.log = function() {\n    alert('Hello world!');\n};\n",
            "node_modules/hello-world/package.json": "{\n  \"main\": \"index.js\"\n}"
        }
    }
});
